<!doctype html>
<html>
  <head>
    <meta charset="utf-8" /> 
    <title>Animación sincronizada</title> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>
  <body>
    <h1>Casa</h1>
    <script>
      // Todas las posiciones comienzan en la MISMA X
      let startX = -100;
      let solX = startX;
      let cocheX = startX;

      function setup() {
        createCanvas(800,800);
      }

      function draw() {
        background(144,213,255);

        // Suelo
        fill(10,191,20);
        stroke(10,191,20);
        strokeWeight(3);
        rect(0,600,800,200);

        // Casa
        fill(242,133,56);
        stroke(242,133,56);
        strokeWeight(2);
        rect(75,275,325,325);

        fill(102,0,0);
        triangle(55,275,425,275,245,100);

        // Puerta
        fill(189,138,55);
        stroke(135,87,19);
        strokeWeight(3);
        rect(200,500,75,100);
        line(200,550,275,550);

        // Ventanas
        fill(255,240,46);
        stroke(135,87,19);

        rect(100,475,60,60);
        line(100,505,160,505);
        line(130,475,130,535);

        rect(300,475,60,60);
        line(300,505,360,505);
        line(330,475,330,535);

        rect(115,340,60,100);
        line(145,340,145,440);
        line(115,365,175,365);

        fill(135,87,19);
        rect(115,390,60,50);

        fill(255,240,46);
        rect(200,340,60,100);
        line(230,340,230,440);
        line(200,365,260,365);

        fill(135,87,19);
        rect(200,390,60,50);

        fill(255,240,46);
        rect(285,340,60,100);
        line(315,340,315,440);
        line(285,365,345,365);

        fill(135,87,19);
        rect(285,390,60,50);

        // Balcón
        stroke(117,73,22);
        strokeWeight(8);
        line(75,360,400,360);
        line(75,440,400,440);

        line(75,360,75,440);
        line(115,360,115,440);
        line(155,360,155,440);
        line(195,360,195,440);
        line(235,360,235,440);
        line(275,360,275,440);
        line(315,360,315,440);
        line(355,360,355,440);
        line(400,360,400,440);

        // Sol (misma X inicial, Y fija)
        fill(255,240,46,200);
        stroke(255,240,46,200);
        strokeWeight(3);
        circle(solX, 100, 70);

        // Coche (misma X inicial, Y fija)
        strokeWeight(3);
        stroke(93,130,148);
        fill(141,222,252);
        arc(cocheX,530,150,90,PI,0);

        fill(153,183,201);
        ellipse(cocheX,530,250,30);

        stroke(0);
        line(cocheX-125,530,cocheX+125,530);

        // Luces (se mueven con el coche, misma X inicial)
        let offsets = [-100, -75, -50, -25, 0, 25, 50, 75, 100];
        let colores = [
          [255,54,0], [13,255,0], [217,0,255], [246,255,0], [0,76,255],
          [255,54,0], [13,255,0], [217,0,255], [246,255,0]
        ];

        for (let i = 0; i < offsets.length; i++) {
          stroke(colores[i]);
          fill(colores[i][0], colores[i][1], colores[i][2], 150);
          circle(cocheX + offsets[i], 530, 7);
        }

        // MOVIMIENTO sincronizado
        solX += 1.5;
        cocheX += 1.5;

        
      }
    </script>
  </body>
</html>



